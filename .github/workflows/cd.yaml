name: Deployment
on:
  workflow_dispatch:
  push:
    branches:
      - "main"
    paths-ignore:
      - ".dist/**"

permissions:
  issues: write
  contents: write
  pull-requests: write
  repository-projects: write

jobs:
  dependabot:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ‘‡ Checkout
        uses: actions/checkout@v3

      - name: ğŸ§ª Test
        run: yarn test

      - name: ğŸ§± Build
        run: yarn build

      - name: ğŸ“Œ Commit & Push
        uses: GuillaumeFalourd/git-commit-push@v1.3
        with:
          commit_message: "chore: updates dist zip"
